


.. tabs::

   .. tab:: Adapter

      | Configuration for Data Adapter to pipeline the dataset to the model.
      | Config File : ``peekingduck/training/configs/data_module/data_adapter/adapter.yaml``

      +----------------------------------------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      | Key                                                                              | Value                                                         | Description                 |
      +==================================================================================+===============================================================+=============================+
      | :mod:`adapter_type`                                                              | "tensorflow"                                                  | framework                   |
      +----------------------------------------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      | :mod:`train`                                                                     |                                                               |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`batch_size`                                 | 32                                                            |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`shuffle`                                    | True                                                          |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`x_col`                                     | :grey:`${data_module.dataset.image_path_col_name}`            |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`y_col`                                     | :grey:`${data_module.dataset.target_col_id}`                  |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`target_size`                                |                                                               |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              |                            | :grey:`-`            | :grey:`${data_module.dataset.image_size}`                     |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              |                            | :grey:`-`            | :grey:`${data_module.dataset.image_size}`                     |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`color_mode`                                 | "rgb"                                                         |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`num_classes`                               | :grey:`${data_module.dataset.num_classes}`                    |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`classes`                                   | :grey:`${data_module.dataset.class_name_to_id}`               |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`class_mode`                                 | "categorical"                                                 |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`interpolation`                              | "nearest"                                                     |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`subset`                                     | "training"                                                    |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      | :mod:`valid`                                                                     |                                                               |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`batch_size`                                 | 32                                                            |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`shuffle`                                    | False                                                         |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`x_col`                                     | :grey:`${data_module.dataset.image_path_col_name}`            |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`y_col`                                     | :grey:`${data_module.dataset.target_col_id}`                  |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`target_size`                                |                                                               |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              |                            | :grey:`-`            | :grey:`${data_module.dataset.image_size}`                     |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              |                            | :grey:`-`            | :grey:`${data_module.dataset.image_size}`                     |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`color_mode`                                 | "rgb"                                                         |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`num_classes`                               | :grey:`${data_module.dataset.num_classes}`                    |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`classes`                                   | :grey:`${data_module.dataset.class_name_to_id}`               |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`class_mode`                                 | "categorical"                                                 |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`interpolation`                              | "nearest"                                                     |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`subset`                                     | "validation"                                                  |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      | :mod:`test`                                                                      |                                                               |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`batch_size`                                 | 1                                                             |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`shuffle`                                    | False                                                         |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`x_col`                                     | :grey:`${data_module.dataset.image_path_col_name}`            |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`y_col`                                     | :grey:`${data_module.dataset.target_col_id}`                  |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`target_size`                                |                                                               |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              |                            | :grey:`-`            | :grey:`${data_module.dataset.image_size}`                     |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              |                            | :grey:`-`            | :grey:`${data_module.dataset.image_size}`                     |                             |
      +------------------------------+----------------------------+----------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`color_mode`                                 | "rgb"                                                         |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`num_classes`                               | :grey:`${data_module.dataset.num_classes}`                    |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :grey:`classes`                                   | :grey:`${data_module.dataset.class_name_to_id}`               |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`class_mode`                                 | "categorical"                                                 |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`interpolation`                              | "nearest"                                                     |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+
      |                              | :mod:`subset`                                     | "validation"                                                  |                             |
      +------------------------------+---------------------------------------------------+---------------------------------------------------------------+-----------------------------+


   .. tab:: Transform

      * Train
      | Transformation to be applied to training dataset.
      | Config File : ``peekingduck/training/configs/data_module/transform/train.yaml``      

      +------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      | Key                                                  | Value                                                                 | Description                                                                                             |
      +======================================================+=======================================================================+=========================================================================================================+
      | :mod:`_target_`                                      | albumentations.augmentations.crops.transforms.RandomResizedCrop       | Torchvision's variant of crop a random part of the input and rescale it to some size.                   |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      |                              | :grey:`height`        | :grey:`${data_module.dataset.image_size}`                             |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      |                              | :grey:`width`         | :grey:`${data_module.dataset.image_size}`                             |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      |                              | :mod:`scale`          | [0.9, 1]                                                              |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      |                              | :mod:`ratio`          | [1, 1]                                                                |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      | :mod:`_target_`                                      | src.transforms.augmentations.TFPreprocessImage                        |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      |                              | :mod:`preprocessor`   | keras.applications.vgg16.preprocess_input                             |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      |                              | :mod:`p`              | 1.                                                                    |                                                                                                         |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
      | :mod:`_target_`                                      | albumentations.augmentations.geometric.transforms.Flip                |                                                                                                         |
      +------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+

      * Test
      | Transformation to be applied to test and validation dataset.
      | Config File : ``peekingduck/training/configs/data_module/transform/test.yaml``

      +------------------------------------------------------+-----------------------------------------------------------------------+--------------------------+
      | Key                                                  | Value                                                                 | Description              |
      +======================================================+=======================================================================+==========================+
      | :mod:`_target_`                                      | albumentations.augmentations.geometric.resize.Resize                  |                          |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+--------------------------+
      |                              | :grey:`height`        | :grey:`${data_module.dataset.image_size}`                             |                          |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+--------------------------+
      |                              | :grey:`width`         | :grey:`${data_module.dataset.image_size}`                             |                          |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+--------------------------+
      | :mod:`_target_`                                      | src.transforms.augmentations.TFPreprocessImage                        |                          |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+--------------------------+
      |                              | :mod:`preprocessor`   | keras.applications.vgg16.preprocess_input                             |                          |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+--------------------------+
      |                              | :mod:`p`              | `1.`                                                                  |                          |
      +------------------------------+-----------------------+-----------------------------------------------------------------------+--------------------------+


